#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int gerar_numero_aleatorio(int min, int max) {
    return rand() % (max - min + 1) + min;
}

int main() {
    int carta, total = 0;
    char resposta;
    srand(time(NULL));
    carta = gerar_numero_aleatorio(1, 13);
    printCards(carta);
    if (carta == 11 || carta == 12 || carta == 13) {
        carta = 10;
    }
    total += carta;
    carta = gerar_numero_aleatorio(1, 13);
    printCards(carta);
    if (carta == 11 || carta == 12 || carta == 13) {
        carta = 10;
    }
    total += carta;
    printf("Total de pontos: %d\n", total);
    printf("Voce quer mais cartas? (s/n): ");
    scanf(" %c", &resposta);
    while (resposta == 's') {
        carta = gerar_numero_aleatorio(1, 10);
        printCards(carta);
        total += carta;
        printf("Total de pontos: %d\n", total);
        if (total > 21) {
            printf("Voce perdeu!\n");
            return 0;
        }
        printf("Voce quer mais cartas? (s/n): ");
        scanf(" %c", &resposta);
    }
    int dealer_total = 0;
    printf("Vez do dealer...\n");
    while (dealer_total < 17) {
        carta = gerar_numero_aleatorio(1, 10);
        printf("Dealer tirou um %d\n", carta);
        dealer_total += carta;
    }
    printf("Total do dealer: %d\n", dealer_total);

    if (dealer_total > 21 || total > dealer_total) {
        printf("Voce ganhou!\n");
    } else if (total == dealer_total) {
        printf("Empate!\n");
    } else {
        printf("Voce perdeu!\n");
    }
    return 0;
}


void printCards(carta) {
    if(carta == 1) {
        printf ("carta \n", carta);
        printf ("##################### \n");
        printf ("# A .............   # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |      A      |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |.............|  # \n");
        printf ("#                 A # \n");
        printf ("##################### \n");
    }
    if(carta >=2 && carta <= 10) {
        printf ("carta \n", carta);
        printf ("##################### \n");
        printf ("#%d .............    # \n", carta);
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |      %d      |  # \n", carta);
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |.............|  # \n");
        printf ("#                %d  # \n", carta);
        printf ("##################### \n");
    }
    if(carta == 11) {
        printf ("carta DAMA \n");
        printf ("##################### \n");
        printf ("# A .............   # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |      A      |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |.............|  # \n");
        printf ("#                 A # \n");
        printf ("##################### \n");
    }
    if(carta == 12) {
        printf ("carta VALETE \n");
        printf ("##################### \n");
        printf ("# A .............   # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |      A      |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |.............|  # \n");
        printf ("#                 A # \n");
        printf ("##################### \n");
    }
    if(carta == 13) {
        printf ("carta REIS \n");
        printf ("##################### \n");
        printf ("# A .............   # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |      A      |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |             |  # \n");
        printf ("#  |.............|  # \n");
        printf ("#                 A # \n");
        printf ("##################### \n");
    }
}
